<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Fabric.js Vanilla Test</title>
  <style>
    canvas {
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>
  <h2>Fabric.js Image Load Test</h2>
  <canvas id="canvas" width="800" height="600"></canvas>

  <!-- ✅ Include the correct version of fabric.js BEFORE using it -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/4.6.0/fabric.min.js"></script>

  <!-- ✅ Run your code after the script is loaded -->
  <script>
    // Wait until everything (DOM + scripts) is loaded
    window.addEventListener('load', () => {
      if (typeof fabric === 'undefined') {
        alert('❌ Fabric.js failed to load!');
        return;
      }

      const canvas = new fabric.Canvas('canvas');
      const imageUrl = 'https://placekitten.com/400/300';

      fabric.Image.fromURL(imageUrl, function(img) {
        if (!img) {
          console.error('❌ Failed to load image');
          return;
        }

        img.set({ left: 100, top: 100, scaleX: 0.5, scaleY: 0.5 });
        canvas.add(img);
        canvas.renderAll();

        console.log('✅ Image loaded and added to canvas');
      });
    });
  </script>
</body>
</html>
