<!-- Fixed Header -->
<app-project-toolbar (menuOpen) = "onMenuOpen($event)" id="app-header" class="fixed top-0 border-b left-0 right-0 z-50 h-14" />

<!-- Layout shell -->
<div class="flex h-screen pt-14 overflow-hidden">

  <!-- Left Sidebar for Desktop -->
<!-- Desktop Sidebar (LEFT) -->
<app-sidebar *ngIf="!isMobile" [position]="'left'"></app-sidebar>

<!-- Mobile Sidebar (BOTTOM) -->
<app-sidebar *ngIf="isMobile" [position]="'bottom'"></app-sidebar>

  <!-- Dynamic Sidebar Shell -->
<app-sidebar-shell [isMobile]="isMobile" id="side-nav-bar" *ngIf="sidebarService.isOpen"[ngClass]="{
  'fixed left-20 top-14 bottom-10 w-[clamp(280px,18vw,360px)] bg-white shadow z-40': !isMobile,
  'fixed inset-x-0 bottom-0 top-auto w-full top-5 h-[85vh] bg-white z-50 overflow-y-auto rounded-t-xl transform transition-transform duration-300 ease-out translate-y-0': isMobile && sidebarService.isOpen,
  'translate-y-full': isMobile && !sidebarService.isOpen
}"
>
</app-sidebar-shell>

  <!-- Routed Canvas & Content Area -->
  <div class="flex-1 relative overflow-hidden transition-all duration-300">
    <router-outlet></router-outlet>
  </div>
</div>

<!-- Footer -->
<app-bottom-bar *ngIf="!isMobile" id="app-footer" class="fixed bottom-0 left-20 right-0 z-50 h-10 bg-white border-t" />
