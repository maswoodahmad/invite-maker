<!-- Fixed Top Header -->
<app-project-toolbar class="fixed top-0 left-0 right-0 z-50 h-14" />

<!-- Main layout area -->
<div class="flex h-screen pt-14 overflow-hidden">
  <!-- Fixed Left Icon Sidebar -->
  <app-sidebar class="w-20 bg-gray-100 border-r fixed top-14 left-0 bottom-10 z-40" (toggle)="toggleSidebar($event)">
  </app-sidebar>

  <!-- Dynamic Side Panel (Design, Text, etc.) -->
  <app-template-sidebar *ngIf="activeSidebar === 'design'" #dynamicSidebar
    [@slideFade]="activeSidebar === 'design' ? 'visible' : 'hidden'"
    class="fixed left-20 top-14 bottom-10 w-[340px] bg-white shadow z-40">
  </app-template-sidebar>

  <!-- TODO: Add more sidebars later like this -->
  <!--
  <app-elements-sidebar
    *ngIf="activeSidebar === 'elements'"
    #dynamicSidebar
    class="fixed left-20 top-14 bottom-10 w-[300px] bg-white shadow z-40">
  </app-elements-sidebar>
  -->

  <!-- Routed Content Area -->
  <div class="flex-1 transition-all duration-300 relative overflow-hidden"
    [ngStyle]="{ 'margin-left': getCanvasMarginLeft() }">
    <router-outlet></router-outlet>
  </div>
</div>

<!-- Fixed Bottom Footer -->
<app-bottom-bar class="fixed bottom-0 left-20 right-0 z-50 h-10 bg-white border-t" />
